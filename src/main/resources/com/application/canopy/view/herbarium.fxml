<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:id="root"
            fx:controller="com.application.canopy.controller.HerbariumController">

    <!-- ⚠️ NIENTE NAV QUI ⚠️ -->

    <center>
        <SplitPane dividerPositions="0.66">
            <items>

                <!-- AREA DETTAGLIO: BOARD -->
                <ScrollPane fx:id="detailScroll"
                            fitToWidth="true"
                            pannable="true"
                            styleClass="scrollpane-clean">
                    <content>
                        <StackPane styleClass="content-root">

                            <!-- BOARD: rettangoli sparsi -->
                            <FlowPane fx:id="detailFlow"
                                      hgap="16"
                                      vgap="16"
                                      prefWrapLength="820"
                                      styleClass="detail-board">

                                <!-- TILE HERO: icona grande pianta -->
                                <StackPane styleClass="board-tile board-tile-lg">
                                    <ImageView fx:id="plantImage"
                                               preserveRatio="true"
                                               smooth="true"
                                               fitWidth="260"
                                               fitHeight="260"
                                               styleClass="plant-hero"/>
                                </StackPane>

                                <!-- TILE TITOLO + CURIOSITÀ (rettangolo dedicato) -->
                                <VBox spacing="6"
                                      styleClass="board-text-lg detail-section">
                                    <Label fx:id="plantTitle"
                                           text="-"
                                           styleClass="plant-title"/>
                                    <Text fx:id="plantCuriosity"
                                          wrappingWidth="260"
                                          styleClass="plant-curiosity"/>
                                </VBox>

                                <!-- TILE DESCRIZIONE (rettangolo dedicato) -->
                                <VBox spacing="8"
                                      styleClass="board-text detail-section">
                                    <Label text="Descrizione"
                                           styleClass="section-title-herb"/>
                                    <Text fx:id="plantDescription"
                                          wrappingWidth="220"
                                          styleClass="section-body"/>
                                </VBox>

                                <!-- TILE CURA (rettangolo dedicato) -->
                                <VBox spacing="8"
                                      styleClass="board-text detail-section">
                                    <Label text="Cura"
                                           styleClass="section-title-herb"/>
                                    <Text fx:id="plantCare"
                                          wrappingWidth="220"
                                          styleClass="section-body"/>
                                </VBox>

                                <!-- TILE FOGLIA -->
                                <StackPane styleClass="board-tile board-img-sm">
                                    <ImageView fx:id="leafImage"
                                               preserveRatio="true"
                                               smooth="true"
                                               fitWidth="160"
                                               fitHeight="160">
                                        <clip>
                                            <Rectangle width="160" height="160"
                                                       arcWidth="20" arcHeight="20"/>
                                        </clip>
                                    </ImageView>
                                </StackPane>

                                <!-- TILE FRUTTO / SEME -->
                                <StackPane styleClass="board-tile board-img-sm">
                                    <ImageView fx:id="fruitImage"
                                               preserveRatio="true"
                                               smooth="true"
                                               fitWidth="160"
                                               fitHeight="160">
                                        <clip>
                                            <Rectangle width="160" height="160"
                                                       arcWidth="20" arcHeight="20"/>
                                        </clip>
                                    </ImageView>
                                </StackPane>

                            </FlowPane>

                            <!-- MESSAGGIO NESSUNA SELEZIONE -->
                            <Label fx:id="emptyHint"
                                   text="Seleziona una pianta a destra per vederne la board"
                                   styleClass="hint"
                                   StackPane.alignment="CENTER"/>
                        </StackPane>
                    </content>
                </ScrollPane>

                <!-- SIDEBAR DESTRA (search + lista) -->
                <VBox spacing="12" styleClass="sidebar-right"
                      prefWidth="340" minWidth="260" maxWidth="480">

                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <TextField fx:id="searchField"
                                   promptText="Cerca per nome o parola chiave…"
                                   HBox.hgrow="ALWAYS"
                                   styleClass="search-bar"/>
                        <Button fx:id="clearSearchBtn" text="×" focusTraversable="false"/>
                    </HBox>

                    <FlowPane hgap="8" vgap="8" prefWrapLength="320">
                        <ToggleButton fx:id="allChip"     text="Tutte"    selected="true" styleClass="chip"/>
                        <ToggleButton fx:id="commonChip"  text="Comuni"                 styleClass="chip"/>
                        <ToggleButton fx:id="rareChip"    text="Rare"                   styleClass="chip"/>
                        <ToggleButton fx:id="specialChip" text="Speciali"               styleClass="chip"/>
                    </FlowPane>

                    <ListView fx:id="plantsList"
                              prefHeight="520"
                              VBox.vgrow="ALWAYS"/>
                </VBox>

            </items>
        </SplitPane>
    </center>

</BorderPane>
