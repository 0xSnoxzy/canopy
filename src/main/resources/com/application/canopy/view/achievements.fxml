<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:id="root"
            styleClass="objectives-root"
            fx:controller="com.application.canopy.controller.AchievementsController">

    <!-- CENTRALE -->
    <center>
        <VBox fx:id="centerBox"
              spacing="16"
              alignment="CENTER"
              styleClass="objectives-center"
              BorderPane.alignment="CENTER">

            <!-- (titolo "Obiettivi" rimosso) -->

            <!-- RIEPILOGO -->
            <HBox fx:id="summaryBox"
                  spacing="12"
                  alignment="CENTER_LEFT"
                  styleClass="summary-card">

                <!-- CONTENITORE CERCHIO GRANDE (DONUT) -->
                <StackPane fx:id="overallRingContainer"
                           prefWidth="150" prefHeight="150"
                           maxWidth="150" maxHeight="150"
                           styleClass="overall-ring-container"/>

                <!-- Testi a destra -->
                <VBox spacing="3"
                      alignment="CENTER_LEFT"
                      styleClass="summary-text-box">
                    <Label text="Progresso generale"
                           styleClass="summary-title"/>

                    <Text fx:id="overallText"
                          styleClass="summary-subtitle"/>

                    <Text fx:id="overallHint"
                          styleClass="summary-hint"/>
                </VBox>

            </HBox>


            <!-- LISTA OBIETTIVI -->
            <ScrollPane fitToWidth="true"
                        fitToHeight="true"
                        fx:id="goalsScroll"
                        hbarPolicy="NEVER"
                        vbarPolicy="AS_NEEDED"
                        styleClass="goals-scroll"
                        VBox.vgrow="ALWAYS">
                <content>
                    <!-- CONTENITORE CON BORDI ARROTONDATI -->
                    <StackPane styleClass="goals-container"
                               VBox.vgrow="ALWAYS">
                        <FlowPane fx:id="goalsFlow"
                                  prefWrapLength="900"
                                  styleClass="goals-flow"/>
                    </StackPane>
                </content>
            </ScrollPane>
        </VBox>
    </center>

    <!-- DESTRA DETTAGLI -->
    <right>
        <VBox prefWidth="320"
              styleClass="details-pane">

            <Label text="Dettagli obiettivo" styleClass="details-title"/>

            <StackPane prefWidth="120" prefHeight="120">
                <ImageView fx:id="detailImage"
                           fitHeight="90"
                           fitWidth="90"
                           preserveRatio="true"/>
                <Region fx:id="detailImagePlaceholder"
                        styleClass="details-image-placeholder"
                        visible="true" managed="true"/>
            </StackPane>

            <Label fx:id="detailName"
                   text="Seleziona un obiettivo"
                   styleClass="details-name"/>

            <Text fx:id="detailShortDescription"
                  wrappingWidth="250"
                  styleClass="details-short-description"/>

            <Separator/>

            <Label text="Progresso" styleClass="details-section-label"/>

            <HBox spacing="12">
                <ProgressBar fx:id="detailProgressBar" prefWidth="180"/>
                <Label fx:id="detailProgressLabel"
                       text="0/0"
                       styleClass="details-progress-label"/>
            </HBox>

            <Label fx:id="detailStatus"
                   text="Stato: -"
                   styleClass="details-status"/>

            <VBox VBox.vgrow="ALWAYS"/>
        </VBox>
    </right>
</BorderPane>
