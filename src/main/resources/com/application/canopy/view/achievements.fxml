<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:id="root"
            styleClass="objectives-root"
            fx:controller="com.application.canopy.controller.AchievementsController">

    <!-- CENTRALE -->
    <center>
        <VBox fx:id="centerBox"
              spacing="16"
              alignment="CENTER"
              styleClass="objectives-center"
              BorderPane.alignment="CENTER">

            <!-- RIEPILOGO -->
            <HBox spacing="12"
                  alignment="CENTER_LEFT"
                  styleClass="summary-card">

                <StackPane fx:id="overallRingContainer"
                           prefWidth="150" prefHeight="150"
                           maxWidth="150" maxHeight="150"
                           styleClass="overall-ring-container"/>

                <VBox spacing="6">
                    <Label text="Progresso generale"
                           styleClass="summary-title"/>

                    <Text fx:id="overallText"
                          wrappingWidth="380"
                          styleClass="summary-subtitle"/>

                    <Text fx:id="overallHint"
                          wrappingWidth="380"
                          styleClass="summary-hint"/>
                </VBox>
            </HBox>

            <!-- LISTA OBIETTIVI -->
            <ScrollPane fx:id="goalsScroll"
                        fitToWidth="true"
                        hbarPolicy="NEVER"
                        vbarPolicy="AS_NEEDED"
                        styleClass="goals-scroll"
                        VBox.vgrow="ALWAYS">

                <content>
                    <FlowPane fx:id="goalsFlow"
                              prefWrapLength="900"
                              styleClass="goals-flow"/>
                </content>
            </ScrollPane>

        </VBox>
    </center>

    <!-- DESTRA DETTAGLI -->
    <right>
        <VBox prefWidth="320"
              spacing="8"
              styleClass="details-pane">

            <Label text="Dettagli obiettivo" styleClass="details-title"/>

            <Label fx:id="detailName"
                   text="Seleziona un obiettivo"
                   styleClass="details-name"/>

            <Text fx:id="detailShortDescription"
                  wrappingWidth="250"
                  styleClass="details-short-description"/>

            <Separator/>


            <Label text="Progresso" styleClass="details-section-label"/>

            <HBox spacing="12">
                <ProgressBar fx:id="detailProgressBar" prefWidth="180"/>
                <Label fx:id="detailProgressLabel"
                       text="0/0"
                       styleClass="details-progress-label"/>
            </HBox>

            <Label fx:id="detailStatus"
                   text="Stato: -"
                   styleClass="details-status"/>

            <!-- Spacer per spingere in alto i contenuti -->
            <VBox VBox.vgrow="ALWAYS"/>
        </VBox>
    </right>
</BorderPane>
