/* ==========================================
   Canopy - base.css (Themeable Version)
   Palette gestita da:
   - .root.theme-dark
   - .root.theme-light
   ========================================== */

/* ---------- ROOT & PALETTE ---------- */

/* Base comune (font, dimensioni) */
.root {
  -fx-font-family: "AtkinsonHyperlegible";
  -fx-font-size: 14px;
  -fx-text-fill: -canopy-text;

  -fx-base:   -canopy-surface;
  -fx-accent: -canopy-accent;
}

/* Tema DARK – Evergreen Deep Forest */
.root.theme-dark {
  /* Palette base */
  -canopy-bg:           linear-gradient(to bottom, #141C12, #141C12);
  -canopy-surface:      #2C3A27;                     /* pannelli principali */
  -canopy-surface-2:    #141C12;                     /* superfici più profonde */
  -canopy-card:         #485B3F;                     /* card contenuto */
  -canopy-card-soft:    rgba(72, 91, 63, 0.96);

  -canopy-text:         #CED9C3;                     /* testo principale */
  -canopy-muted:        #C4D7B7;                     /* testo attenuato */

  -canopy-accent:       #598024;                     /* elementi interattivi / primari */
  -canopy-accent-2:     #B0CF97;                     /* highlight */
  -canopy-bark:         #738D61;                     /* “legno” / bordi */
  -canopy-soil:         #141C12;                     /* strato profondo */

  -canopy-focus:        rgba(176, 207, 151, 0.75);
  -canopy-focus-soft:   rgba(176, 207, 151, 0.20);
  -canopy-danger:       #ff6b6b;

  /* Token derivati per bordi / soft accent */
  -canopy-border-subtle: rgba(206, 217, 195, 0.16);
  -canopy-border-strong: rgba(206, 217, 195, 0.32);
  -canopy-accent-soft:   rgba(176, 207, 151, 0.24);
}

/* Tema LIGHT – Deep Olive Garden */
.root.theme-light {

  /* BACKGROUND chiaro, soft */
  -canopy-bg:
      linear-gradient(to bottom, #CED9C3, #C4D7B7);  /* beige → tea-green */

  /* SUPERFICI */
  -canopy-surface:      #C4D7B7;                     /* pannelli principali */
  -canopy-surface-2:    #B0CF97;                     /* superfici sopraelevate */
  -canopy-card:         #CED9C3;                     /* card contenuto */
  -canopy-card-soft:    rgba(206, 217, 195, 0.96);

  /* TESTO */
  -canopy-text:         #141C12;                     /* quasi nero-verde */
  -canopy-muted:        #485B3F;                     /* hunter-green attenuato */

  /* ACCENTI */
  -canopy-accent:       #386812;                     /* olive-leaf */
  -canopy-accent-2:     #2C3A27;                     /* evergreen scuro (selezioni) */
  -canopy-bark:         #598024;                     /* forest-moss */
  -canopy-soil:         #738D61;                     /* dusty-olive */

  /* FOCUS */
  -canopy-focus:        rgba(44, 58, 39, 0.45);
  -canopy-focus-soft:   rgba(44, 58, 39, 0.18);

  -canopy-danger:       #e24b4b;

  /* Derivati */
  -canopy-border-subtle: rgba(20, 28, 18, 0.10);
  -canopy-border-strong: rgba(20, 28, 18, 0.20);
  -canopy-accent-soft:   rgba(56, 104, 18, 0.18);
}

/* ---------- TIPOGRAFIA GENERALE ---------- */

.label {
  -fx-text-fill: -canopy-text;
}

.subtle, .muted {
  -fx-text-fill: -canopy-muted;
}

.app-title {
  -fx-font-size: 20px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 16, 0.3, 0, 3);
}

/* micro-heading riutilizzabile */
.heading-chip {
  -fx-font-size: 11px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-muted;
  -fx-background-color: -canopy-accent-soft;
  -fx-background-radius: 999;
  -fx-padding: 3 8;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 999;
}

.separator *.line {
  -fx-background-color: -canopy-border-strong;
  -fx-opacity: 0.9;
}

/* ---------- NAV LATERALE ---------- */

/* NAV LATERALE */
.sidebar {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-padding: 18 14;
  -fx-spacing: 12;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 0 1 0 0;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 18, 0.35, 0, 0);
}

.points-label {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-card, -canopy-surface-2);
  -fx-text-fill: -canopy-accent-2;
  -fx-padding: 6 12;
  -fx-background-radius: 999;
  -fx-font-weight: 800;
  -fx-border-color: -canopy-border-strong;
  -fx-border-radius: 999;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 10, 0.35, 0, 2);
}

.menu-section  { -fx-spacing: 10; }
.logout-section{ -fx-spacing: 10; }

.nav-button,
.logout-button,
.button,
.toggle-button {
  -fx-alignment: CENTER_LEFT;
  -fx-graphic-text-gap: 10;
  -fx-padding: 9 14;
  -fx-background-radius: 999;
  -fx-background-insets: 0;
  -fx-text-fill: -canopy-text;
  -fx-cursor: hand;
  -fx-border-color: transparent;
  -fx-border-radius: 999;
}

/* base nav */
.nav-button,
.toggle-button {
  -fx-background-color: transparent;
}

.nav-button:hover,
.toggle-button:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* selezionato (token-based base, verrà overridato per tema) */
.toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        derive(-canopy-accent-2, 10%),
        -canopy-accent-2);
  -fx-text-fill: -canopy-card;
  -fx-font-weight: 900;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 1.3;
}

/* focus */
.nav-button:focused,
.toggle-button:focused,
.logout-button:focused,
.button:focused {
  -fx-effect: dropshadow(gaussian, -canopy-focus, 14, 0.45, 0, 0);
}

/* logout */
.logout-button {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-danger;
}
.logout-button:hover {
  -fx-background-color: rgba(255,107,107,0.12);
}

/* Icone nav */
.nav-icon {
  -fx-opacity: 0.92;
}
.toggle-button:hover .nav-icon,
.button:hover .nav-icon {
  -fx-opacity: 1.0;
}

/* Icona moneta */
.coin-icon {
  -fx-opacity: 1.0;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 8, 0.30, 0, 0);
}

/* ---------- LAYOUT CONTENUTO GENERALE ---------- */

.center-area {
  -fx-background-color:
    radial-gradient(center 18% 0%, radius 110%,
        -canopy-accent-soft,
        transparent 55%),
    -canopy-bg;
  -fx-background-radius: 22;
  -fx-padding: 16;
}

/* pannello generico “grande” */
.main-panel {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 20;
  -fx-padding: 16;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 18, 0.32, 0, 6);
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 20;
}

/* side-panel (es. colonna destra home) */
.side-panel {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-padding: 14;
  -fx-spacing: 10;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 0 0 0 1;
}

.panel-title {
  -fx-font-size: 15px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 10, 0.4, 0, 2);
}

.plant-stage {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-accent, 40%),
        -canopy-surface);
  -fx-border-color: -canopy-accent;
  -fx-border-width: 1.5;
  -fx-border-radius: 20;
  -fx-background-radius: 20;
}

/* Timer grande */
.timer-large {
  -fx-font-size: 46px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 16, 0.4, 0, 4);
}

/* ---------- CONTROLLI GENERICI ---------- */

/* Bottoni primari (START/timer) */
.button.start,
.button:default {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-bark, -canopy-accent);
  -fx-text-fill: -canopy-bg;
  -fx-font-weight: 900;
  -fx-background-radius: 999;
}
.button.start:hover,
.button:default:hover {
  -fx-background-color:
      linear-gradient(to bottom,
        derive(-canopy-accent, 15%),
        -canopy-accent);
}

/* Bottoni secondari */
.button {
  -fx-background-color: rgba(255,255,255,0.06); /* neutro, ok tenerlo */
  -fx-background-radius: 999;
}
.button:hover {
  -fx-background-color: rgba(255,255,255,0.10);
}
.button {
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}

/* Ghost icon button (es. frecce calendario) */
.ghost-icon-button {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 800;
  -fx-background-radius: 999;
  -fx-padding: 4 6;
}
.ghost-icon-button:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* TextField / ChoiceBox / ComboBox */
.text-field,
.choice-box,
.combo-box-base {
  -fx-background-color: -canopy-surface-2;
  -fx-text-fill: -canopy-text;
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-padding: 8 10;
}
.text-field:focused,
.choice-box:focused,
.combo-box-base:focused {
  -fx-border-color: -canopy-border-strong;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 14, 0.5, 0, 0);
}

/* ListView unificata */
.list-view {
  -fx-background-color: transparent;
  -fx-control-inner-background: transparent;
  -fx-background-insets: 0;
  -fx-padding: 4;
}
.list-cell {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-text;
  -fx-padding: 8 10;
  -fx-background-radius: 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-width: 0 0 1 0;
}
.list-cell:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* selezione lista: token-based base (overridato sotto per tema) */
.list-cell:selected,
.list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        derive(-canopy-accent-2, 5%),
        -canopy-accent-2);
  -fx-text-fill: -canopy-card;
}

/* ProgressBar “linfa” */
.progress-bar > .bar {
  -fx-background-color: linear-gradient(to right, -canopy-accent, -canopy-accent-2);
  -fx-background-insets: 0;
  -fx-background-radius: 999;
}
.progress-bar > .track {
  -fx-background-color: rgba(255,255,255,0.10);
  -fx-background-radius: 999;
}

/* ScrollBar */
.scroll-bar:vertical,
.scroll-bar:horizontal {
  -fx-background-color: transparent;
}
.scroll-bar .thumb {
  -fx-background-color: -canopy-accent;
}
.scroll-bar .thumb:hover {
  -fx-background-color: derive(-canopy-accent, 15%);
}

/* ScrollPane pulito */
.scrollpane-clean > .viewport {
  -fx-background-color: transparent;
}
.scrollpane-clean {
  -fx-background-color: transparent;
}

/* ---------- CALENDARIO ---------- */

.calendar-toolbar {
  -fx-background-color: transparent;
  -fx-padding: 4 0 10 0;
}

.weekday-header {
  -fx-padding: 0 0 4 2;
}
.weekday-header .weekday {
  -fx-text-fill: -canopy-muted;
  -fx-alignment: CENTER_LEFT;
  -fx-pref-width: Infinity;
  -fx-font-weight: 700;
}

/* wrapper calendario */
.calendar-root {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 18;
  -fx-padding: 12;
  -fx-border-color: -canopy-border-strong;
  -fx-border-radius: 18;
}

.calendar-grid {
  -fx-background-color: transparent;
  -fx-padding: 4 0 0 0;
}

/* celle giorno */
.day-cell {
  -fx-background-color:
     linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-padding: 4;
}
.day-cell:hover {
  -fx-background-color:
    linear-gradient(to bottom,
      -canopy-accent-soft,
      -canopy-surface);
}
.day-cell-out {
  -fx-opacity: 0.55;
}
.day-cell-today {
  -fx-border-color: -canopy-border-strong;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 12, 0.45, 0, 0);
}

.day-number {
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 800;
}

/* Dialog “piante del giorno” */
.dialog-pane {
  -fx-background-color: -canopy-surface;
}
.dialog-pane > .content.label {
  -fx-text-fill: -canopy-text;
}
.dialog-pane:header .header-panel .label {
  -fx-text-fill: -canopy-accent-2;
  -fx-font-weight: 800;
}

/* Totale minuti */
.summary-label {
  -fx-text-fill: -canopy-muted;
  -fx-font-weight: 700;
}

/* ---------- ACHIEVEMENTS ---------- */

/* wrapper achievements */
.achievements-root {
  -fx-background-color:
    radial-gradient(center 15% 0%, radius 120%,
        -canopy-accent-soft,
        transparent 60%),
    -canopy-bg;
  -fx-background-radius: 22;
  -fx-padding: 18;
}

/* FlowPane centrale della griglia */
.achievements-grid {
  -fx-hgap: 12;
  -fx-vgap: 12;
  -fx-padding: 4 0 0 0;
}

.detail-pane {
  -fx-background-color:
      linear-gradient(to bottom,
          -canopy-card-soft,
          -canopy-card);
  -fx-background-radius: 20;
  -fx-padding: 16;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 18, 0.4, 0, 5);
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 20;
}

.detail-pane.detail-achieved {
  -fx-background-color:
      linear-gradient(to bottom,
          derive(-canopy-accent, 40%),
          -canopy-card);
}

.detail-pane.detail-locked {
  -fx-background-color:
      linear-gradient(to bottom,
          -canopy-soil,
          derive(-canopy-soil, -20%));
  -fx-opacity: 0.95;
}

/* micro-sezione tipo “PROGRESSO” / “DETTAGLI” */
.section-title {
  -fx-font-size: 11px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-muted;
  -fx-letter-spacing: 1.2px;
}

/* titolo obiettivo selezionato */
.detail-title {
  -fx-font-size: 18px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 12, 0.4, 0, 2);
}

/* sottotitolo / descrizione breve */
.detail-subtitle {
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.98;
}

/* testo progresso numerico */
.detail-progress {
  -fx-text-fill: -canopy-accent-2;
  -fx-font-weight: 800;
}

/* badge stato */
.badge {
  -fx-font-size: 10px;
  -fx-font-weight: 800;
  -fx-background-radius: 999;
  -fx-padding: 3 8;
  -fx-letter-spacing: 1.1px;
}
.badge-achieved {
  -fx-background-color: -canopy-accent-soft;
  -fx-text-fill: -canopy-text;
}
.badge-locked {
  -fx-background-color: rgba(255,255,255,0.10);
  -fx-text-fill: -canopy-muted;
}

/* ----- Card obiettivi centrali ----- */

.card {
  -fx-background-color:
    linear-gradient(to bottom,
        -canopy-card-soft,
        -canopy-card);
  -fx-background-radius: 18;
  -fx-padding: 10 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 18;
  -fx-border-width: 1;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 14, 0.38, 0, 3);
  -fx-cursor: hand;
  -fx-opacity: 0.96;
}

.card:hover {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-card, 10%),
        -canopy-card);
  -fx-border-color: -canopy-border-strong;
}

.card-selected {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-accent, 35%),
        -canopy-card-soft);
  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 2;
  -fx-effect: dropshadow(gaussian, -canopy-focus, 16, 0.55, 0, 3);
}

.card-achieved {
  -fx-opacity: 1.0;
  -fx-background-color:
    linear-gradient(to bottom,
      derive(-canopy-accent-2, -10%),
      -canopy-card);
}

.card-locked {
  -fx-opacity: 0.55;
  -fx-background-color:
    linear-gradient(to bottom,
      -canopy-soil,
      derive(-canopy-soil, -25%));
  -fx-border-color: -canopy-border-subtle;
}

/* titolo e descrizione interno card */
.card-title {
  -fx-font-weight: 800;
  -fx-font-size: 13px;
  -fx-text-fill: -canopy-text;
  -fx-wrap-text: true;
}
.card-desc {
  -fx-font-size: 11px;
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.96;
}

/* mini-pill di progresso */
.card-progress-pill {
  -fx-font-size: 10px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-text;
  -fx-background-color: -canopy-accent-soft;
  -fx-background-radius: 999;
  -fx-padding: 2 6;
}
.card-achieved .card-progress-pill {
  -fx-background-color: derive(-canopy-accent, 20%);
}
.card-locked .card-progress-pill {
  -fx-background-color: rgba(255,255,255,0.12);
  -fx-text-fill: -canopy-muted;
}

/* ---------- ERBARIO (HERBARIUM) ---------- */

/* ERBARIO wrapper */
.content-root {
  -fx-padding: 22;
  -fx-background-color:
     linear-gradient(to bottom,
        -canopy-accent-soft,
        -canopy-bg);
  -fx-background-radius: 20;
  -fx-border-color: -canopy-border-strong;
  -fx-border-radius: 20;
}

/* Titoli & testi */
.h2 {
  -fx-font-size: 22px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
}
.h3 {
  -fx-font-size: 14px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-text;
}
.muted {
  -fx-fill: -canopy-muted;
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.96;
}

/* messaggio “nessuna pianta selezionata” */
.hint {
  -fx-text-fill: -canopy-muted;
  -fx-font-size: 12px;
  -fx-background-color: rgba(0,0,0,0.35);
  -fx-padding: 8 12;
  -fx-background-radius: 10;
}

/* immagine grande pianta */
.plant-hero {
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 22, 0.4, 0, 6);
  -fx-smooth: true;
}

/* colonna destra erbario (search + lista) */
.sidebar-right {
  -fx-padding: 16;
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 0 0 0 1;
}

/* barra di ricerca */
.search-bar {
  -fx-background-radius: 999;
  -fx-padding: 8 10 8 14;
  -fx-background-insets: 0;
  -fx-background-color: -canopy-surface-2;
  -fx-prompt-text-fill: -canopy-muted;
  -fx-text-fill: -canopy-text;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 999;
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}

/* filtri chip */
.chip {
  -fx-background-color: -canopy-accent-soft;
  -fx-text-fill: -canopy-text;
  -fx-background-radius: 999;
  -fx-padding: 6 12;
  -fx-cursor: hand;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 999;
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}
.chip:hover {
  -fx-background-color: derive(-canopy-accent-soft, 10%);
}
.chip:selected {
  -fx-background-color:
    linear-gradient(to right, -canopy-accent-2, -canopy-accent);
  -fx-text-fill: -canopy-card;
  -fx-border-color: transparent;
}
.chip:selected:hover {
  -fx-background-color:
    linear-gradient(to right,
      derive(-canopy-accent-2, 10%),
      -canopy-accent);
}

/* scroll lista erbario */
.list-scroll {
  -fx-background-color: transparent;
  -fx-padding: 0;
}
.list-scroll .viewport {
  -fx-background-color: transparent;
}

/* card nella lista piante (si appoggia a .list-cell) */
.plant-card {
  -fx-background-radius: 14;
  -fx-padding: 8 10 8 10;
}

/* contenitore testo dettaglio pianta */
.detail-text {
  -fx-padding: 10 0 0 0;
}

/* titolo pianta */
.plant-title {
  -fx-font-size: 24px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 14, 0.45, 0, 2);
}

/* curiosità */
.plant-curiosity {
  -fx-fill: -canopy-muted;
  -fx-font-size: 12px;
  -fx-font-style: italic;
}

/* card per descrizione/cura */
.detail-section {
  -fx-background-color: -canopy-card-soft;
  -fx-background-radius: 16;
  -fx-padding: 12 14;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 16;
}

/* titolo sezione (Descrizione/Cura) */
.section-title-herb {
  -fx-font-size: 11px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-muted;
  -fx-letter-spacing: 1.4px;
}

/* testo dentro le card */
.section-body {
  -fx-fill: -canopy-text;
  -fx-font-size: 13px;
  -fx-line-spacing: 3px;
}

/* stile bottone light/dark mode */
.theme-toggle-button {
  -fx-font-size: 14px;
  -fx-font-weight: 800;
}

/* ---------- FONT SWITCHER ---------- */
/* classi applicate da FontManager */

.root.font-atkinson {
  -fx-font-family: "AtkinsonHyperlegible";
}

.root.font-comicneue {
  -fx-font-family: "Comic Neue";
}

.root.font-robotomono {
  -fx-font-family: "Roboto Mono";
}

/* ---------- OVERRIDE SELEZIONI PER TEMA ---------- */
/* qui rendiamo le selezioni più simili all'hover, per entrambi i temi */

/* LIGHT MODE – selezioni più soft, simili all'hover */
.root.theme-light .toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 15%));
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 900;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 1.3;
}

.root.theme-light .list-cell:selected,
.root.theme-light .list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 10%));
  -fx-text-fill: -canopy-text;
}

.root.theme-light .chip:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 12%));
  -fx-text-fill: -canopy-text;
  -fx-border-color: transparent;
}

/* DARK MODE – selezioni più leggere, non nerissime, ma sempre deep forest */
.root.theme-dark .toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 8%));
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 900;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 1.3;
}

.root.theme-dark .list-cell:selected,
.root.theme-dark .list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 5%));
  -fx-text-fill: -canopy-text;
}

.root.theme-dark .chip:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 10%));
  -fx-text-fill: -canopy-text;
  -fx-border-color: transparent;
}

/* ==========================================
   SELEZIONE PIANTE – contorno tipo glow,
   ma SENZA effetti sugli interni
   (solo lista nella sidebar-right)
   ========================================== */

/* base celle della lista piante */
.sidebar-right .list-cell {
  -fx-background-color: transparent;
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: transparent;
  -fx-border-width: 1;
}

/* hover generico */
.sidebar-right .list-cell:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* LIGHT MODE – cella selezionata */
.root.theme-light .sidebar-right .list-cell:selected,
.root.theme-light .sidebar-right .list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 15%));

  /* “glow” simulato con bordo più spesso e colore acceso */
  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 1;

  -fx-text-fill: -canopy-text;
}

/* DARK MODE – cella selezionata */
.root.theme-dark .sidebar-right .list-cell:selected,
.root.theme-dark .sidebar-right .list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 10%));

  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 1;

  -fx-text-fill: -canopy-text;
}
