/* ==========================================
   Canopy - base.css (Theme B - Forest Soft Glow)
   Palette: RealtimeColors Forest
   Text: #ebf9e5
   Bg:   #141f0f
   Prim: #a4e68b
   Sec:  #1d8756
   Acc:  #26b759
   ========================================== */

/* ---------- ROOT & PALETTE ---------- */

/* Base comune (font, dimensioni) */
.root {
  -fx-font-family: "AtkinsonHyperlegible";
  -fx-font-size: 14px;
  -fx-text-fill: -canopy-text;

  -fx-base:   -canopy-surface;
  -fx-accent: -canopy-accent;
}

/* Tema DARK: quello che avevi prima */
.root.theme-dark {
  /* Palette soft forest (dark) */
  -canopy-bg:           linear-gradient(to bottom, #0e160b, #141f0f);
  -canopy-surface:      #182612;   /* pannelli principali */
  -canopy-surface-2:    #1e3017;   /* superfici sopraelevate */
  -canopy-card:         #22371b;   /* card contenuto */
  -canopy-card-soft:    rgba(34, 55, 27, 0.96);
  -canopy-text:         #ebf9e5;
  -canopy-muted:        #c0ddba;
  -canopy-accent:       #26b759;   /* verde principale (Accent) */
  -canopy-accent-2:     #a4e68b;   /* highlight (Primary) */
  -canopy-bark:         #4b3a2a;
  -canopy-soil:         #1b2614;

  -canopy-focus:        rgba(164, 230, 139, 0.78);
  -canopy-focus-soft:   rgba(164, 230, 139, 0.20);
  -canopy-danger:       #ff6b6b;
}

/* Tema LIGHT – Forest Bumbi Deepened (contrasto aumentato) */
.root.theme-light {

  /* BACKGROUND più scuro e più boscoso */
  -canopy-bg:
      linear-gradient(to bottom, #b8ccb5, #c7d8c3);

  /* SUPERFICI più scure per aumentare il contrasto */
  -canopy-surface:      #cfdcc8;     /* pannelli principali */
  -canopy-surface-2:    #b9c9b3;     /* superfici sopraelevate */
  -canopy-card:         #d7e4d2;     /* card contenuto */
  -canopy-card-soft:    rgba(215, 228, 210, 0.92);

  /* TESTO */
  -canopy-text:         #11190f;     /* text originale */
  -canopy-muted:        #384637;     /* più contrastato */

  /* ACCENTI rafforzati del ~10% */
  -canopy-accent:       #7fb79c;     /* accent (meno pastello) */
  -canopy-accent-2:     #90c0a0;     /* secondary */
  -canopy-bark:         #6c9563;     /* primary (più deciso) */

  /* SUPERFICIE profonda */
  -canopy-soil:         #a6b9a1;     /* scurito del 15% */

  /* FOCUS */
  -canopy-focus:        rgba(127, 183, 156, 0.45);
  -canopy-focus-soft:   rgba(127, 183, 156, 0.18);

  -canopy-danger:       #e24b4b;
}


/* ---------- TIPOGRAFIA GENERALE ---------- */

.label {
  -fx-text-fill: -canopy-text;
}

.subtle {
  -fx-text-fill: -canopy-muted;
}

.app-title {
  -fx-font-size: 20px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.28), 16, 0.3, 0, 3);
}

/* micro-heading riutilizzabile */
.heading-chip {
  -fx-font-size: 11px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-muted;
  -fx-background-color: rgba(164, 230, 139, 0.12);
  -fx-background-radius: 999;
  -fx-padding: 3 8;
  -fx-border-color: rgba(164, 230, 139, 0.30);
  -fx-border-radius: 999;
}

.separator *.line {
  -fx-background-color: rgba(164, 230, 139, 0.40);
  -fx-opacity: 0.9;
}

/* ---------- NAV LATERALE ---------- */

/* NAV LATERALE */
.sidebar {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-padding: 18 14;
  -fx-spacing: 12;
  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 0 1 0 0;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 18, 0.35, 0, 0);
}


.points-label {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-card, -canopy-surface-2);
  -fx-text-fill: -canopy-accent-2;
  -fx-padding: 6 12;
  -fx-background-radius: 999;
  -fx-font-weight: 800;
  -fx-border-color: rgba(164, 230, 139, 0.55);
  -fx-border-radius: 999;
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.30), 10, 0.35, 0, 2);
}

.menu-section  { -fx-spacing: 10; }
.logout-section{ -fx-spacing: 10; }

.nav-button,
.logout-button,
.button,
.toggle-button {
  -fx-alignment: CENTER_LEFT;
  -fx-graphic-text-gap: 10;
  -fx-padding: 9 14;
  -fx-background-radius: 999;
  -fx-background-insets: 0;
  -fx-text-fill: -canopy-text;
  -fx-cursor: hand;
  -fx-border-color: transparent;
  -fx-border-radius: 999;
}

/* base nav */
.nav-button,
.toggle-button {
  -fx-background-color: transparent;
}

.nav-button:hover,
.toggle-button:hover {
  -fx-background-color: rgba(164, 230, 139, 0.10);
}

/* selezionato */
.toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        rgba(164, 230, 139, 0.32),
        rgba(38, 183, 89, 0.26));
  -fx-text-fill: #05180e;
  -fx-font-weight: 900;
  -fx-border-color: rgba(164, 230, 139, 0.82);
  -fx-border-width: 1.3;
}

/* focus */
.nav-button:focused,
.toggle-button:focused,
.logout-button:focused,
.button:focused {
  -fx-effect: dropshadow(gaussian, -canopy-focus, 14, 0.45, 0, 0);
}

/* logout */
.logout-button {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-danger;
}
.logout-button:hover {
  -fx-background-color: rgba(255,107,107,0.12);
}

/* Icone nav */
.nav-icon {
  -fx-opacity: 0.92;
}
.toggle-button:hover .nav-icon,
.button:hover .nav-icon {
  -fx-opacity: 1.0;
}

/* Icona moneta */
.coin-icon {
  -fx-opacity: 1.0;
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.40), 8, 0.30, 0, 0);
}

/* ---------- LAYOUT CONTENUTO GENERALE ---------- */

.center-area {
  -fx-background-color:
    radial-gradient(center 18% 0%, radius 110%,
        rgba(38, 183, 89, 0.16),
        transparent 55%),
    -canopy-bg;
  -fx-background-radius: 22;
  -fx-padding: 16;
}

/* pannello generico “grande” */
.main-panel {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 20;
  -fx-padding: 16;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 18, 0.32, 0, 6);
  -fx-border-color: rgba(164, 230, 139, 0.20);
  -fx-border-radius: 20;
}

/* side-panel (es. colonna destra home) */
.side-panel {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-padding: 14;
  -fx-spacing: 10;
  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 0 0 0 1;
}

.panel-title {
  -fx-font-size: 15px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.35), 10, 0.4, 0, 2);
}

.plant-stage {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-accent, 40%),
        -canopy-surface);
  -fx-border-color: -canopy-accent;
  -fx-border-width: 1.5;
  -fx-border-radius: 20;
  -fx-background-radius: 20;
}


/* Timer grande */
.timer-large {
  -fx-font-size: 46px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.40), 16, 0.4, 0, 4);
}

/* ---------- CONTROLLI GENERICI ---------- */

/* Bottoni primari */
.button.start,
.button:default {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-accent-2, -canopy-accent);
  -fx-text-fill: #03130c;
  -fx-font-weight: 900;
  -fx-background-radius: 999;
}
.button.start:hover,
.button:default:hover {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-accent, #1d8756);
}

/* Bottoni secondari */
.button {
  -fx-background-color: rgba(255,255,255,0.06);
  -fx-background-radius: 999;
}
.button:hover {
  -fx-background-color: rgba(255,255,255,0.10);
}
.button {
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}

/* Ghost icon button (es. frecce calendario) */
.ghost-icon-button {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 800;
  -fx-background-radius: 999;
  -fx-padding: 4 6;
}
.ghost-icon-button:hover {
  -fx-background-color: rgba(164, 230, 139, 0.12);
}

/* TextField / ChoiceBox / ComboBox */
.text-field,
.choice-box,
.combo-box-base {
  -fx-background-color: -canopy-surface-2;
  -fx-text-fill: -canopy-text;
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: rgba(164, 230, 139, 0.25);
  -fx-padding: 8 10;
}
.text-field:focused,
.choice-box:focused,
.combo-box-base:focused {
  -fx-border-color: rgba(164, 230, 139, 0.80);
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 14, 0.5, 0, 0);
}

/* ListView unificata */
.list-view {
  -fx-background-color: transparent;
  -fx-control-inner-background: transparent;
  -fx-background-insets: 0;
  -fx-padding: 4;
}
.list-cell {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-text;
  -fx-padding: 8 10;
  -fx-background-radius: 12;
  -fx-border-color: rgba(164, 230, 139, 0.12);
  -fx-border-width: 0 0 1 0;
}
.list-cell:hover {
  -fx-background-color: rgba(164, 230, 139, 0.10);
}
.list-cell:selected,
.list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        rgba(164, 230, 139, 0.24),
        rgba(38, 183, 89, 0.18));
  -fx-text-fill: #03130c;
}

/* ProgressBar “linfa” */
.progress-bar > .bar {
  -fx-background-color: linear-gradient(to right, -canopy-accent, -canopy-accent-2);
  -fx-background-insets: 0;
  -fx-background-radius: 999;
}
.progress-bar > .track {
  -fx-background-color: rgba(255,255,255,0.10);
  -fx-background-radius: 999;
}

/* ScrollBar */
.scroll-bar:vertical,
.scroll-bar:horizontal {
  -fx-background-color: transparent;
}
.scroll-bar .thumb {
  -fx-background-color: rgba(164, 230, 139, 0.40);
  -fx-background-radius: 999;
}
.scroll-bar .thumb:hover {
  -fx-background-color: rgba(164, 230, 139, 0.65);
}

/* ScrollPane pulito */
.scrollpane-clean > .viewport {
  -fx-background-color: transparent;
}
.scrollpane-clean {
  -fx-background-color: transparent;
}

/* ---------- CALENDARIO ---------- */

.calendar-toolbar {
  -fx-background-color: transparent;
  -fx-padding: 4 0 10 0;
}

.weekday-header {
  -fx-padding: 0 0 4 2;
}
.weekday-header .weekday {
  -fx-text-fill: -canopy-muted;
  -fx-alignment: CENTER_LEFT;
  -fx-pref-width: Infinity;
  -fx-font-weight: 700;
}

/* wrapper calendario */
.calendar-root {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 18;
  -fx-padding: 12;
  -fx-border-color: -canopy-accent-2;
  -fx-border-radius: 18;
}

.calendar-grid {
  -fx-background-color: transparent;
  -fx-padding: 4 0 0 0;
}

/* celle giorno */
.day-cell {
  -fx-background-color:
     linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: rgba(164, 230, 139, 0.18);
  -fx-padding: 4;
}
.day-cell:hover {
  -fx-background-color:
    linear-gradient(to bottom,
      rgba(38, 183, 89, 0.14),
      -canopy-surface);
}
.day-cell-out {
  -fx-opacity: 0.55;
}
.day-cell-today {
  -fx-border-color: rgba(164, 230, 139, 0.75);
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.32), 12, 0.45, 0, 0);
}

.day-number {
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 800;
}

/* Dialog “piante del giorno” */
.dialog-pane {
  -fx-background-color: -canopy-surface;
}
.dialog-pane > .content.label {
  -fx-text-fill: -canopy-text;
}
.dialog-pane:header .header-panel .label {
  -fx-text-fill: -canopy-accent-2;
  -fx-font-weight: 800;
}

/* Totale minuti */
.summary-label {
  -fx-text-fill: -canopy-muted;
  -fx-font-weight: 700;
}

/* ---------- ACHIEVEMENTS ---------- */

/* wrapper achievements */
.achievements-root {
  -fx-background-color:
    radial-gradient(center 15% 0%, radius 120%,
        rgba(73, 218, 124, 0.16),
        transparent 60%),
    -canopy-bg;
  -fx-background-radius: 22;
  -fx-padding: 18;
}

/* FlowPane centrale della griglia */
.achievements-grid {
  -fx-hgap: 12;
  -fx-vgap: 12;
  -fx-padding: 4 0 0 0;
}

.detail-pane {
  -fx-background-color:
      linear-gradient(to bottom,
          -canopy-card-soft,
          -canopy-card);
  -fx-background-radius: 20;
  -fx-padding: 16;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 18, 0.4, 0, 5);
  -fx-border-color: rgba(164, 230, 139, 0.22);
  -fx-border-radius: 20;
}

.detail-pane.detail-achieved {
  -fx-background-color:
      linear-gradient(to bottom,
          derive(-canopy-accent, 40%),
          -canopy-card);
}

.detail-pane.detail-locked {
  -fx-background-color:
      linear-gradient(to bottom,
          -canopy-soil,
          derive(-canopy-soil, -20%));
  -fx-opacity: 0.95;
}

/* micro-sezione tipo “PROGRESSO” / “DETTAGLI” */
.section-title {
  -fx-font-size: 11px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-muted;
  -fx-letter-spacing: 1.2px;
}

/* titolo obiettivo selezionato */
.detail-title {
  -fx-font-size: 18px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 12, 0.4, 0, 2);
}

/* sottotitolo / descrizione breve */
.detail-subtitle {
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.98;
}

/* testo progresso numerico */
.detail-progress {
  -fx-text-fill: -canopy-accent-2;
  -fx-font-weight: 800;
}

/* badge stato (se usi label con queste styleClass) */
.badge {
  -fx-font-size: 10px;
  -fx-font-weight: 800;
  -fx-background-radius: 999;
  -fx-padding: 3 8;
  -fx-letter-spacing: 1.1px;
}
.badge-achieved {
  -fx-background-color: rgba(38, 183, 89, 0.32);
  -fx-text-fill: -canopy-text;
}
.badge-locked {
  -fx-background-color: rgba(255,255,255,0.10);
  -fx-text-fill: #bbbbbb;
}

/* ----- Card obiettivi centrali ----- */

.card {
  -fx-background-color:
    linear-gradient(to bottom,
        -canopy-card-soft,
        -canopy-card);
  -fx-background-radius: 18;
  -fx-padding: 10 12;
  -fx-border-color: rgba(164, 230, 139, 0.18);
  -fx-border-radius: 18;
  -fx-border-width: 1;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 14, 0.38, 0, 3);
  -fx-cursor: hand;
  -fx-opacity: 0.96;
}

.card:hover {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-card, 20%),
        -canopy-card);
  -fx-border-color: rgba(164, 230, 139, 0.32);
}

.card-selected {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-accent, 35%),
        -canopy-card-soft);
  -fx-border-color: rgba(164, 230, 139, 0.80);
  -fx-border-width: 2;
  -fx-effect: dropshadow(gaussian, rgba(164, 230, 139, 0.45), 16, 0.55, 0, 3);
}

.card-achieved {
  -fx-opacity: 1.0;
  -fx-background-color:
    linear-gradient(to bottom,
      derive(-canopy-accent-2, -10%),
      -canopy-card);
}

.card-locked {
  -fx-opacity: 0.55;
  -fx-background-color:
    linear-gradient(to bottom,
      -canopy-soil,
      derive(-canopy-soil, -25%));
  -fx-border-color: rgba(164, 230, 139, 0.10);
}

/* titolo e descrizione interno card */
.card-title {
  -fx-font-weight: 800;
  -fx-font-size: 13px;
  -fx-text-fill: -canopy-text;
  -fx-wrap-text: true;
}
.card-desc {
  -fx-font-size: 11px;
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.96;
}

/* mini-pill di progresso (se usi Label con questa classe) */
.card-progress-pill {
  -fx-font-size: 10px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-text;
  -fx-background-color: rgba(164, 230, 139, 0.16);
  -fx-background-radius: 999;
  -fx-padding: 2 6;
}
.card-achieved .card-progress-pill {
  -fx-background-color: rgba(38, 183, 89, 0.40);
}
.card-locked .card-progress-pill {
  -fx-background-color: rgba(255,255,255,0.12);
  -fx-text-fill: #b1b1b1;
}

/* ---------- ERBARIO (HERBARIUM) ---------- */

/* ERBARIO wrapper */
.content-root {
  -fx-padding: 22;
  -fx-background-color:
     linear-gradient(to bottom,
        rgba(73, 218, 124, 0.08),
        -canopy-bg);
  -fx-background-radius: 20;
  -fx-border-color: -canopy-accent-2;
  -fx-border-radius: 20;
}

/* Titoli & testi */
.h2 {
  -fx-font-size: 22px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
}
.h3 {
  -fx-font-size: 14px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-text;
}
.muted {
  -fx-fill: -canopy-muted;
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.96;
}

/* messaggio “nessuna pianta selezionata” */
.hint {
  -fx-text-fill: -canopy-muted;
  -fx-font-size: 12px;
  -fx-background-color: rgba(0,0,0,0.35);
  -fx-padding: 8 12;
  -fx-background-radius: 10;
}

/* immagine grande pianta */
.plant-hero {
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 22, 0.4, 0, 6);
  -fx-smooth: true;
}

/* colonna destra erbario (search + lista) */
.sidebar-right {
  -fx-padding: 16;
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 0 0 0 1;
}

/* barra di ricerca */
.search-bar {
  -fx-background-radius: 999;
  -fx-padding: 8 10 8 14;
  -fx-background-insets: 0;
  -fx-background-color: -canopy-surface-2;
  -fx-prompt-text-fill: -canopy-muted;
  -fx-text-fill: -canopy-text;
  -fx-border-color: rgba(164, 230, 139, 0.25);
  -fx-border-radius: 999;
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}

/* filtri chip */
.chip {
  -fx-background-color: rgba(164, 230, 139, 0.10);
  -fx-text-fill: -canopy-text;
  -fx-background-radius: 999;
  -fx-padding: 6 12;
  -fx-cursor: hand;
  -fx-border-color: rgba(164, 230, 139, 0.22);
  -fx-border-radius: 999;
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}
.chip:hover {
  -fx-background-color: rgba(164, 230, 139, 0.18);
}
.chip:selected {
  -fx-background-color:
    linear-gradient(to right, -canopy-accent, -canopy-accent-2);
  -fx-text-fill: #03130c;
  -fx-border-color: transparent;
}
.chip:selected:hover {
  -fx-background-color:
    linear-gradient(to right, -canopy-accent-2, #1d8756);
}

/* scroll lista erbario */
.list-scroll {
  -fx-background-color: transparent;
  -fx-padding: 0;
}
.list-scroll .viewport {
  -fx-background-color: transparent;
}

/* card nella lista piante (si appoggia a .list-cell) */
.plant-card {
  -fx-background-radius: 14;
  -fx-padding: 8 10 8 10;
}

/* contenitore testo dettaglio pianta */
.detail-text {
  -fx-padding: 10 0 0 0;
}

/* titolo pianta */
.plant-title {
  -fx-font-size: 24px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 14, 0.45, 0, 2);
}

/* curiosità */
.plant-curiosity {
  -fx-fill: -canopy-muted;
  -fx-font-size: 12px;
  -fx-font-style: italic;
}

/* card per descrizione/cura */
.detail-section {
  -fx-background-color: -canopy-card-soft;
  -fx-background-radius: 16;
  -fx-padding: 12 14;
  -fx-border-color: rgba(164, 230, 139, 0.18);
  -fx-border-radius: 16;
}

/* titolo sezione (Descrizione/Cura) */
.section-title-herb {
  -fx-font-size: 11px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-muted;
  -fx-letter-spacing: 1.4px;
}

/* testo dentro le card */
.section-body {
  -fx-fill: -canopy-text;
  -fx-font-size: 13px;
  -fx-line-spacing: 3px;
}

/* stile bottone light/dark mode */
.theme-toggle-button {
  -fx-font-size: 14px;
  -fx-font-weight: 800;
}

