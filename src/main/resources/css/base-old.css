/* ==========================================
   Canopy - base.css (Themeable Version)
   Palette gestita da:
   - .root.theme-dark
   - .root.theme-light
   ========================================== */

/* ---------- ROOT & PALETTE ---------- */

/* Base comune (font, dimensioni) */
.root {
  -fx-font-family: "AtkinsonHyperlegible";
  -fx-font-size: 14px;
  -fx-text-fill: -canopy-text;

  -fx-base:   -canopy-surface;
  -fx-accent: -canopy-accent;
}

/* Tema DARK – Evergreen Deep Forest 2.0 */
.root.theme-dark {

  /* BACKGROUND più profondo, ma leggibile */
  -canopy-bg:
      linear-gradient(to bottom, #0D130C, #151F12);

  /* SUPERFICI con più contrasto tra pannelli e sfondo */
  -canopy-surface:      #233021;                     /* pannelli principali */
  -canopy-surface-2:    #161F15;                     /* superfici più profonde */
  -canopy-card:         #313F2E;                     /* card contenuto */
  -canopy-card-soft:    rgba(49, 63, 46, 0.96);

  /* TESTO più chiaro e leggibile */
  -canopy-text:         #E3F1D8;                     /* testo principale */
  -canopy-muted:        #AEBFA3;                     /* testo attenuato */

  /* ACCENTI un po' più brillanti */
  -canopy-accent:       #75B548;                     /* elementi interattivi / primari */
  -canopy-accent-2:     #C7E39A;                     /* highlight / titoli */
  -canopy-bark:         #8B6E4E;                     /* “legno” / bordi */
  -canopy-soil:         #10160F;                     /* strato profondo */

  /* FOCUS più morbido ma visibile */
  -canopy-focus:        rgba(199, 227, 154, 0.65);
  -canopy-focus-soft:   rgba(199, 227, 154, 0.20);

  -canopy-danger:       #FF7D7D;

  /* Derivati per bordi / soft accent */
  -canopy-border-subtle: rgba(227, 241, 216, 0.12);
  -canopy-border-strong: rgba(227, 241, 216, 0.28);
  -canopy-accent-soft:   rgba(152, 206, 115, 0.26);
}
/* Tema LIGHT – Evergreen Garden 2.0 */
.root.theme-light {

  /* BACKGROUND più soft e meno “neon” */
  -canopy-bg:
      linear-gradient(to bottom, #E6F2DC, #D3E4C6);  /* verde tenue → garden */

  /* SUPERFICI con gerarchia più chiara */
  -canopy-surface:      #D3E4C6;                     /* pannelli principali */
  -canopy-surface-2:    #C3D5B5;                     /* superfici sopraelevate */
  -canopy-card:         #E6F2DC;                     /* card contenuto */
  -canopy-card-soft:    rgba(230, 242, 220, 0.96);

  /* TESTO più scuro e leggibile */
  -canopy-text:         #1B2616;                     /* quasi nero-verde */
  -canopy-muted:        #4F6445;                     /* verde attenuato */

  /* ACCENTI più naturali, meno acidi */
  -canopy-accent:       #4D8F2F;                     /* olive/leaf */
  -canopy-accent-2:     #31581D;                     /* evergreen scuro per titoli */
  -canopy-bark:         #7B9C54;                     /* mossy-bark */
  -canopy-soil:         #8AA36C;                     /* olive-soil */

  /* FOCUS più discreto ma chiaro */
  -canopy-focus:        rgba(77, 143, 47, 0.32);
  -canopy-focus-soft:   rgba(77, 143, 47, 0.16);

  -canopy-danger:       #E04D4D;

  /* Derivati */
  -canopy-border-subtle: rgba(27, 38, 22, 0.09);
  -canopy-border-strong: rgba(27, 38, 22, 0.20);
  -canopy-accent-soft:   rgba(77, 143, 47, 0.20);
}

/* SAKURA LIGHT */
.root.theme-sakura-light {
  -canopy-bg:           linear-gradient(to bottom, #FFEAF3, #FFD6E8);
  -canopy-surface:      #F9CADA;
  -canopy-surface-2:    #F4B5CA;
  -canopy-card:         #FFD6E8;
  -canopy-card-soft:    rgba(255,214,232,0.92);

  -canopy-text:         #5A2D3E;
  -canopy-muted:        #8A5065;

  -canopy-accent:       #E7639E;
  -canopy-accent-2:     #C23F78;
  -canopy-bark:         #A75C6F;
  -canopy-soil:         #E1A2B8;

  -canopy-focus:        rgba(231, 99, 158, 0.45);
  -canopy-focus-soft:   rgba(231, 99, 158, 0.18);

  -canopy-border-subtle: rgba(90,45,62,0.10);
  -canopy-border-strong: rgba(90,45,62,0.20);
  -canopy-accent-soft:   rgba(231,99,158,0.22);
}

/* SAKURA DARK */
.root.theme-sakura-dark {
  -canopy-bg:           linear-gradient(to bottom, #1C0E14, #26101B);
  -canopy-surface:      #3A1C2A;
  -canopy-surface-2:    #2B1521;
  -canopy-card:         #4A2334;
  -canopy-card-soft:    rgba(74,35,52,0.96);

  -canopy-text:         #FDE8F0;
  -canopy-muted:        #E7B4CB;

  -canopy-accent:       #E7639E;
  -canopy-accent-2:     #FF9BC5;
  -canopy-bark:         #B96A8C;
  -canopy-soil:         #42202F;

  -canopy-focus:        rgba(231, 99, 158, 0.55);
  -canopy-focus-soft:   rgba(231, 99, 158, 0.20);

  -canopy-border-subtle: rgba(253,232,240,0.12);
  -canopy-border-strong: rgba(253,232,240,0.26);
  -canopy-accent-soft:   rgba(231,99,158,0.28);
}

/* QUERCIA LIGHT */
.root.theme-quercia-light {
  -canopy-bg:           linear-gradient(to bottom, #E8EFE3, #D9E5D1);
  -canopy-surface:      #C9D7BC;
  -canopy-surface-2:    #B7C8A8;
  -canopy-card:         #D9E5D1;
  -canopy-card-soft:    rgba(217,229,209,0.94);

  -canopy-text:         #2F3C25;
  -canopy-muted:        #56694A;

  -canopy-accent:       #6F8E54;
  -canopy-accent-2:     #4D623C;
  -canopy-bark:         #7B5A40;
  -canopy-soil:         #A87D55;

  -canopy-focus:        rgba(111,142,84,0.45);
  -canopy-focus-soft:   rgba(111,142,84,0.18);

  -canopy-border-subtle: rgba(47,60,37,0.10);
  -canopy-border-strong: rgba(47,60,37,0.20);
  -canopy-accent-soft:   rgba(111,142,84,0.22);
}

/* QUERCIA DARK */
.root.theme-quercia-dark {
  -canopy-bg:           linear-gradient(to bottom, #11150E, #161C11);
  -canopy-surface:      #222A1B;
  -canopy-surface-2:    #171E13;
  -canopy-card:         #2E3823;
  -canopy-card-soft:    rgba(46,56,35,0.96);

  -canopy-text:         #E4F0D9;
  -canopy-muted:        #B7C7A6;

  -canopy-accent:       #6F8E54;
  -canopy-accent-2:     #94B06E;
  -canopy-bark:         #8C6944;
  -canopy-soil:         #3A2A1A;

  -canopy-focus:        rgba(148,176,110,0.55);
  -canopy-focus-soft:   rgba(148,176,110,0.22);

  -canopy-border-subtle: rgba(228,240,217,0.10);
  -canopy-border-strong: rgba(228,240,217,0.22);
  -canopy-accent-soft:   rgba(148,176,110,0.26);
}

/* MENTA LIGHT */
.root.theme-menta-light {
  -canopy-bg:           linear-gradient(to bottom, #DAFFF1, #C4F7E4);
  -canopy-surface:      #B3ECDC;
  -canopy-surface-2:    #A0E3D0;
  -canopy-card:         #D0F7EC;
  -canopy-card-soft:    rgba(208,247,236,0.92);

  -canopy-text:         #1E3F38;
  -canopy-muted:        #41756B;

  -canopy-accent:       #4AC9A6;
  -canopy-accent-2:     #2EA487;
  -canopy-bark:         #63B29A;
  -canopy-soil:         #4F8F7F;

  -canopy-focus:        rgba(74,201,166,0.45);
  -canopy-focus-soft:   rgba(74,201,166,0.18);

  -canopy-border-subtle: rgba(30,63,56,0.10);
  -canopy-border-strong: rgba(30,63,56,0.20);
  -canopy-accent-soft:   rgba(74,201,166,0.22);
}

/* MENTA DARK */
.root.theme-menta-dark {
  -canopy-bg:           linear-gradient(to bottom, #071814, #0C221D);
  -canopy-surface:      #12332A;
  -canopy-surface-2:    #0D2520;
  -canopy-card:         #164036;
  -canopy-card-soft:    rgba(22,64,54,0.96);

  -canopy-text:         #D5FFF3;
  -canopy-muted:        #9DD7C6;

  -canopy-accent:       #4AC9A6;
  -canopy-accent-2:     #7AE0BF;
  -canopy-bark:         #4D9B84;
  -canopy-soil:         #193730;

  -canopy-focus:        rgba(74,201,166,0.55);
  -canopy-focus-soft:   rgba(74,201,166,0.22);

  -canopy-border-subtle: rgba(213,255,243,0.10);
  -canopy-border-strong: rgba(213,255,243,0.22);
  -canopy-accent-soft:   rgba(74,201,166,0.26);
}

/* PEPERONCINO LIGHT */
.root.theme-peperoncino-light {
  -canopy-bg:           linear-gradient(to bottom, #FFE1E1, #FFCBCB);
  -canopy-surface:      #FFB4B4;
  -canopy-surface-2:    #FF9B9B;
  -canopy-card:         #FFC7C7;
  -canopy-card-soft:    rgba(255,199,199,0.92);

  -canopy-text:         #4A2020;
  -canopy-muted:        #824646;

  -canopy-accent:       #E03E3E;
  -canopy-accent-2:     #B52D2D;
  -canopy-bark:         #A44747;
  -canopy-soil:         #CE6464;

  -canopy-focus:        rgba(224,62,62,0.50);
  -canopy-focus-soft:   rgba(224,62,62,0.20);

  -canopy-border-subtle: rgba(74,32,32,0.10);
  -canopy-border-strong: rgba(74,32,32,0.20);
  -canopy-accent-soft:   rgba(224,62,62,0.22);
}

/* PEPERONCINO DARK */
.root.theme-peperoncino-dark {
  -canopy-bg:           linear-gradient(to bottom, #190707, #210909);
  -canopy-surface:      #311012;
  -canopy-surface-2:    #240A0C;
  -canopy-card:         #3F1719;
  -canopy-card-soft:    rgba(63,23,25,0.96);

  -canopy-text:         #FFE5E5;
  -canopy-muted:        #F0A3A3;

  -canopy-accent:       #E03E3E;
  -canopy-accent-2:     #FF6B6B;
  -canopy-bark:         #B35353;
  -canopy-soil:         #361212;

  -canopy-focus:        rgba(255,107,107,0.54);
  -canopy-focus-soft:   rgba(255,107,107,0.22);

  -canopy-border-subtle: rgba(255,229,229,0.10);
  -canopy-border-strong: rgba(255,229,229,0.22);
  -canopy-accent-soft:   rgba(224,62,62,0.28);
}

/* LAVANDA LIGHT */
.root.theme-lavanda-light {
  -canopy-bg:           linear-gradient(to bottom, #F1E7FF, #E3D6FF);
  -canopy-surface:      #D6C5FF;
  -canopy-surface-2:    #C7B1FA;
  -canopy-card:         #E4D8FF;
  -canopy-card-soft:    rgba(228,216,255,0.92);

  -canopy-text:         #3B2A5A;
  -canopy-muted:        #675A89;

  -canopy-accent:       #8C6FE8;
  -canopy-accent-2:     #6B4EC6;
  -canopy-bark:         #7C66B8;
  -canopy-soil:         #A594D6;

  -canopy-focus:        rgba(140,111,232,0.42);
  -canopy-focus-soft:   rgba(140,111,232,0.18);

  -canopy-border-subtle: rgba(59,42,90,0.10);
  -canopy-border-strong: rgba(59,42,90,0.20);
  -canopy-accent-soft:   rgba(140,111,232,0.22);
}

/* LAVANDA DARK */
.root.theme-lavanda-dark {
  -canopy-bg:           linear-gradient(to bottom, #150F22, #1C142E);
  -canopy-surface:      #261A3C;
  -canopy-surface-2:    #1D1430;
  -canopy-card:         #302149;
  -canopy-card-soft:    rgba(48,33,73,0.96);

  -canopy-text:         #F2E8FF;
  -canopy-muted:        #C1ACF1;

  -canopy-accent:       #8C6FE8;
  -canopy-accent-2:     #B396FF;
  -canopy-bark:         #7359C5;
  -canopy-soil:         #241736;

  -canopy-focus:        rgba(179,150,255,0.50);
  -canopy-focus-soft:   rgba(179,150,255,0.22);

  -canopy-border-subtle: rgba(242,232,255,0.10);
  -canopy-border-strong: rgba(242,232,255,0.22);
  -canopy-accent-soft:   rgba(140,111,232,0.28);
}

/* ORCHIDEA LIGHT */
.root.theme-orchidea-light {
  -canopy-bg:           linear-gradient(to bottom, #F3E6FF, #EDD7FF);
  -canopy-surface:      #E0C7FF;
  -canopy-surface-2:    #D1AFFF;
  -canopy-card:         #E9D6FF;
  -canopy-card-soft:    rgba(233,214,255,0.92);

  -canopy-text:         #402856;
  -canopy-muted:        #6C5687;

  -canopy-accent:       #B375FF;
  -canopy-accent-2:     #8A52D4;
  -canopy-bark:         #9864C6;
  -canopy-soil:         #B58CE0;

  -canopy-focus:        rgba(179,117,255,0.45);
  -canopy-focus-soft:   rgba(179,117,255,0.18);

  -canopy-border-subtle: rgba(64,40,86,0.10);
  -canopy-border-strong: rgba(64,40,86,0.20);
  -canopy-accent-soft:   rgba(179,117,255,0.23);
}

/* ORCHIDEA DARK */
.root.theme-orchidea-dark {
  -canopy-bg:           linear-gradient(to bottom, #160D26, #1C1030);
  -canopy-surface:      #28143E;
  -canopy-surface-2:    #1F0F32;
  -canopy-card:         #341A4E;
  -canopy-card-soft:    rgba(52,26,78,0.96);

  -canopy-text:         #F7EBFF;
  -canopy-muted:        #D0B2F5;

  -canopy-accent:       #B375FF;
  -canopy-accent-2:     #D3A4FF;
  -canopy-bark:         #8F5DD3;
  -canopy-soil:         #261337;

  -canopy-focus:        rgba(211,164,255,0.50);
  -canopy-focus-soft:   rgba(211,164,255,0.22);

  -canopy-border-subtle: rgba(247,235,255,0.10);
  -canopy-border-strong: rgba(247,235,255,0.22);
  -canopy-accent-soft:   rgba(179,117,255,0.28);
}


/* ---------- TIPOGRAFIA GENERALE ---------- */

.label {
  -fx-text-fill: -canopy-text;
}

.subtle, .muted {
  -fx-text-fill: -canopy-muted;
}

.app-title {
  -fx-font-size: 20px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 16, 0.3, 0, 3);
}

/* micro-heading riutilizzabile */
.heading-chip {
  -fx-font-size: 11px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-muted;
  -fx-background-color: -canopy-accent-soft;
  -fx-background-radius: 999;
  -fx-padding: 3 8;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 999;
}

.separator *.line {
  -fx-background-color: -canopy-border-strong;
  -fx-opacity: 0.9;
}

/* ---------- NAV LATERALE ---------- */

/* NAV LATERALE */
.sidebar {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-padding: 18 14;
  -fx-spacing: 12;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 0 1 0 0;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 18, 0.35, 0, 0);
}

.points-label {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-card, -canopy-surface-2);
  -fx-text-fill: -canopy-accent-2;
  -fx-padding: 6 12;
  -fx-background-radius: 999;
  -fx-font-weight: 800;
  -fx-border-color: -canopy-border-strong;
  -fx-border-radius: 999;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 10, 0.35, 0, 2);
}

.menu-section  { -fx-spacing: 10; }
.logout-section{ -fx-spacing: 10; }

.nav-button,
.logout-button,
.button,
.toggle-button {
  -fx-alignment: CENTER_LEFT;
  -fx-graphic-text-gap: 10;
  -fx-padding: 9 14;
  -fx-background-radius: 999;
  -fx-background-insets: 0;
  -fx-text-fill: -canopy-text;
  -fx-cursor: hand;
  -fx-border-color: transparent;
  -fx-border-radius: 999;
}

/* base nav */
.nav-button,
.toggle-button {
  -fx-background-color: transparent;
}

.nav-button:hover,
.toggle-button:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* selezionato (token-based base, verrà overridato per tema) */
.toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        derive(-canopy-accent-2, 10%),
        -canopy-accent-2);
  -fx-text-fill: -canopy-card;
  -fx-font-weight: 900;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 1.3;
}

/* focus */
.nav-button:focused,
.toggle-button:focused,
.logout-button:focused,
.button:focused {
  -fx-effect: dropshadow(gaussian, -canopy-focus, 14, 0.45, 0, 0);
}

/* logout */
.logout-button {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-danger;
}
.logout-button:hover {
  -fx-background-color: rgba(255,107,107,0.12);
}

/* Icone nav */
.nav-icon {
  -fx-opacity: 0.92;
}
.toggle-button:hover .nav-icon,
.button:hover .nav-icon {
  -fx-opacity: 1.0;
}

/* Icona moneta */
.coin-icon {
  -fx-opacity: 1.0;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 8, 0.30, 0, 0);
}

/* ---------- LAYOUT CONTENUTO GENERALE ---------- */

.center-area {
  -fx-background-color:
    radial-gradient(center 18% 0%, radius 110%,
        -canopy-accent-soft,
        transparent 55%),
    -canopy-bg;
  -fx-background-radius: 22;
  -fx-padding: 16;
}

/* pannello generico “grande” */
.main-panel {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 20;
  -fx-padding: 16;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 18, 0.32, 0, 6);
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 20;
}

/* side-panel (es. colonna destra home) */
.side-panel {
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-padding: 14;
  -fx-spacing: 10;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 0 0 0 1;
}

.panel-title {
  -fx-font-size: 15px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 10, 0.4, 0, 2);
}

.plant-stage {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-accent, 40%),
        -canopy-surface);
  -fx-border-color: -canopy-accent;
  -fx-border-width: 1.5;
  -fx-border-radius: 20;
  -fx-background-radius: 20;
}

/* Timer grande */
.timer-large {
  -fx-font-size: 46px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-accent-2;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 16, 0.4, 0, 4);
}

/* ---------- CONTROLLI GENERICI ---------- */

/* Bottoni primari (START/timer) */
.button.start,
.button:default {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-bark, -canopy-accent);
  -fx-text-fill: -canopy-bg;
  -fx-font-weight: 900;
  -fx-background-radius: 999;
}
.button.start:hover,
.button:default:hover {
  -fx-background-color:
      linear-gradient(to bottom,
        derive(-canopy-accent, 15%),
        -canopy-accent);
}

/* Bottoni secondari */
.button {
  -fx-background-color: rgba(255,255,255,0.06); /* neutro, ok tenerlo */
  -fx-background-radius: 999;
}
.button:hover {
  -fx-background-color: rgba(255,255,255,0.10);
}
.button {
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}

/* Ghost icon button (es. frecce calendario) */
.ghost-icon-button {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 800;
  -fx-background-radius: 999;
  -fx-padding: 4 6;
}
.ghost-icon-button:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* TextField / ChoiceBox / ComboBox */
.text-field,
.choice-box,
.combo-box-base {
  -fx-background-color: -canopy-surface-2;
  -fx-text-fill: -canopy-text;
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-padding: 8 10;
}
.text-field:focused,
.choice-box:focused,
.combo-box-base:focused {
  -fx-border-color: -canopy-border-strong;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 14, 0.5, 0, 0);
}

/* ListView unificata */
.list-view {
  -fx-background-color: transparent;
  -fx-control-inner-background: transparent;
  -fx-background-insets: 0;
  -fx-padding: 4;
}
.list-cell {
  -fx-background-color: transparent;
  -fx-text-fill: -canopy-text;
  -fx-padding: 8 10;
  -fx-background-radius: 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-width: 0 0 1 0;
}
.list-cell:hover {
  -fx-background-color: -canopy-accent-soft;
}

/* selezione lista: token-based base (overridato sotto per tema) */
.list-cell:selected,
.list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        derive(-canopy-accent-2, 5%),
        -canopy-accent-2);
  -fx-text-fill: -canopy-card;
}

/* ProgressBar “linfa” */
.progress-bar > .bar {
  -fx-background-color: linear-gradient(to right, -canopy-accent, -canopy-accent-2);
  -fx-background-insets: 0;
  -fx-background-radius: 999;
}
.progress-bar > .track {
  -fx-background-color: rgba(255,255,255,0.10);
  -fx-background-radius: 999;
}

/* ScrollBar */
.scroll-bar:vertical,
.scroll-bar:horizontal {
  -fx-background-color: transparent;
}
.scroll-bar .thumb {
  -fx-background-color: -canopy-accent;
}
.scroll-bar .thumb:hover {
  -fx-background-color: derive(-canopy-accent, 15%);
}

/* ScrollPane pulito */
.scrollpane-clean > .viewport {
  -fx-background-color: transparent;
}
.scrollpane-clean {
  -fx-background-color: transparent;
}

/* ---------- CALENDARIO ---------- */

.calendar-toolbar {
  -fx-background-color: transparent;
  -fx-padding: 4 0 10 0;
}

.weekday-header {
  -fx-padding: 0 0 4 2;
}
.weekday-header .weekday {
  -fx-text-fill: -canopy-muted;
  -fx-alignment: CENTER_LEFT;
  -fx-pref-width: Infinity;
  -fx-font-weight: 700;
}

/* wrapper calendario */
.calendar-root {
  -fx-background-color:
      linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 18;
  -fx-padding: 12;
  -fx-border-color: -canopy-border-strong;
  -fx-border-radius: 18;
}

.calendar-grid {
  -fx-background-color: transparent;
  -fx-padding: 4 0 0 0;
}

/* celle giorno */
.day-cell {
  -fx-background-color:
     linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-background-radius: 12;
  -fx-border-radius: 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-padding: 4;
}
.day-cell:hover {
  -fx-background-color:
    linear-gradient(to bottom,
      -canopy-accent-soft,
      -canopy-surface);
}
.day-cell-out {
  -fx-opacity: 0.55;
}
.day-cell-today {
  -fx-border-color: -canopy-border-strong;
  -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 12, 0.45, 0, 0);
}

.day-number {
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 800;
}

/* Dialog “piante del giorno” */
.dialog-pane {
  -fx-background-color: -canopy-surface;
}
.dialog-pane > .content.label {
  -fx-text-fill: -canopy-text;
}
.dialog-pane:header .header-panel .label {
  -fx-text-fill: -canopy-accent-2;
  -fx-font-weight: 800;
}

/* Totale minuti */
.summary-label {
  -fx-text-fill: -canopy-muted;
  -fx-font-weight: 700;
}

/* ---------- ACHIEVEMENTS ---------- */

/* wrapper achievements */
.achievements-root {
  -fx-background-color:
    radial-gradient(center 15% 0%, radius 120%,
        -canopy-accent-soft,
        transparent 60%),
    -canopy-bg;
  -fx-background-radius: 22;
  -fx-padding: 18;
}

/* FlowPane centrale della griglia */
.achievements-grid {
  -fx-hgap: 12;
  -fx-vgap: 12;
  -fx-padding: 4 0 0 0;
}

.detail-pane {
  -fx-background-color:
      linear-gradient(to bottom,
          -canopy-card-soft,
          -canopy-card);
  -fx-background-radius: 20;
  -fx-padding: 16;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 18, 0.4, 0, 5);
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 20;
}

.detail-pane.detail-achieved {
  -fx-background-color:
      linear-gradient(to bottom,
          derive(-canopy-accent, 40%),
          -canopy-card);
}

.detail-pane.detail-locked {
  -fx-background-color:
      linear-gradient(to bottom,
          -canopy-soil,
          derive(-canopy-soil, -20%));
  -fx-opacity: 0.95;
}

/* micro-sezione tipo “PROGRESSO” / “DETTAGLI” */
.section-title {
  -fx-font-size: 11px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-muted;
  -fx-letter-spacing: 1.2px;
}

/* titolo obiettivo selezionato */
.detail-title {
  -fx-font-size: 18px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 12, 0.4, 0, 2);
}

/* sottotitolo / descrizione breve */
.detail-subtitle {
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.98;
}

/* testo progresso numerico */
.detail-progress {
  -fx-text-fill: -canopy-accent-2;
  -fx-font-weight: 800;
}

/* badge stato */
.badge {
  -fx-font-size: 10px;
  -fx-font-weight: 800;
  -fx-background-radius: 999;
  -fx-padding: 3 8;
  -fx-letter-spacing: 1.1px;
}
.badge-achieved {
  -fx-background-color: -canopy-accent-soft;
  -fx-text-fill: -canopy-text;
}
.badge-locked {
  -fx-background-color: rgba(255,255,255,0.10);
  -fx-text-fill: -canopy-muted;
}

/* ----- Card obiettivi centrali ----- */

.card {
  -fx-background-color:
    linear-gradient(to bottom,
        -canopy-card-soft,
        -canopy-card);
  -fx-background-radius: 18;
  -fx-padding: 10 12;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 18;
  -fx-border-width: 1;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 14, 0.38, 0, 3);
  -fx-cursor: hand;
  -fx-opacity: 0.96;
}

.card:hover {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-card, 10%),
        -canopy-card);
  -fx-border-color: -canopy-border-strong;
}

.card-selected {
  -fx-background-color:
    linear-gradient(to bottom,
        derive(-canopy-accent, 35%),
        -canopy-card-soft);
  -fx-border-color: -canopy-accent-2;
  -fx-border-width: 2;
  -fx-effect: dropshadow(gaussian, -canopy-focus, 16, 0.55, 0, 3);
}

.card-achieved {
  -fx-opacity: 1.0;
  -fx-background-color:
    linear-gradient(to bottom,
      derive(-canopy-accent-2, -10%),
      -canopy-card);
}

.card-locked {
  -fx-opacity: 0.55;
  -fx-background-color:
    linear-gradient(to bottom,
      -canopy-soil,
      derive(-canopy-soil, -25%));
  -fx-border-color: -canopy-border-subtle;
}

/* titolo e descrizione interno card */
.card-title {
  -fx-font-weight: 800;
  -fx-font-size: 13px;
  -fx-text-fill: -canopy-text;
  -fx-wrap-text: true;
}
.card-desc {
  -fx-font-size: 11px;
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.96;
}

/* mini-pill di progresso */
.card-progress-pill {
  -fx-font-size: 10px;
  -fx-font-weight: 700;
  -fx-text-fill: -canopy-text;
  -fx-background-color: -canopy-accent-soft;
  -fx-background-radius: 999;
  -fx-padding: 2 6;
}
.card-achieved .card-progress-pill {
  -fx-background-color: derive(-canopy-accent, 20%);
}
.card-locked .card-progress-pill {
  -fx-background-color: rgba(255,255,255,0.12);
  -fx-text-fill: -canopy-muted;
}

/* ---------- ERBARIO (HERBARIUM) ---------- */

/* ERBARIO wrapper */
.content-root {
  -fx-padding: 22;
  -fx-background-color:
     linear-gradient(to bottom,
        -canopy-accent-soft,
        -canopy-bg);
  -fx-background-radius: 20;
  -fx-border-color: -canopy-border-strong;
  -fx-border-radius: 20;
}

/* Titoli & testi */
.h2 {
  -fx-font-size: 22px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
}
.h3 {
  -fx-font-size: 14px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-text;
}
.muted {
  -fx-fill: -canopy-muted;
  -fx-text-fill: -canopy-muted;
  -fx-opacity: 0.96;
}

/* messaggio “nessuna pianta selezionata” */
.hint {
  -fx-text-fill: -canopy-muted;
  -fx-font-size: 12px;
  -fx-background-color: rgba(0,0,0,0.35);
  -fx-padding: 8 12;
  -fx-background-radius: 10;
}

/* immagine grande pianta */
.plant-hero {
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 22, 0.4, 0, 6);
  -fx-smooth: true;
}

/* colonna destra erbario (search + lista) */
.sidebar-right {
  -fx-padding: 16;
  -fx-background-color:
    linear-gradient(to bottom, -canopy-surface-2, -canopy-surface);
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 0 0 0 1;
}

/* barra di ricerca */
.search-bar {
  -fx-background-radius: 999;
  -fx-padding: 8 10 8 14;
  -fx-background-insets: 0;
  -fx-background-color: -canopy-surface-2;
  -fx-prompt-text-fill: -canopy-muted;
  -fx-text-fill: -canopy-text;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 999;
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}

/* filtri chip */
.chip {
  -fx-background-color: -canopy-accent-soft;
  -fx-text-fill: -canopy-text;
  -fx-background-radius: 999;
  -fx-padding: 6 12;
  -fx-cursor: hand;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 999;
  -fx-focus-color: transparent;
  -fx-faint-focus-color: transparent;
}
.chip:hover {
  -fx-background-color: derive(-canopy-accent-soft, 10%);
}
.chip:selected {
  -fx-background-color:
    linear-gradient(to right, -canopy-accent-2, -canopy-accent);
  -fx-text-fill: -canopy-card;
  -fx-border-color: transparent;
}
.chip:selected:hover {
  -fx-background-color:
    linear-gradient(to right,
      derive(-canopy-accent-2, 10%),
      -canopy-accent);
}

/* scroll lista erbario */
.list-scroll {
  -fx-background-color: transparent;
  -fx-padding: 0;
}
.list-scroll .viewport {
  -fx-background-color: transparent;
}

/* card nella lista piante (si appoggia a .list-cell) */
.plant-card {
  -fx-background-radius: 14;
  -fx-padding: 8 10 8 10;
}

/* contenitore testo dettaglio pianta */
.detail-text {
  -fx-padding: 10 0 0 0;
}

/* titolo pianta */
.plant-title {
  -fx-font-size: 24px;
  -fx-font-weight: 900;
  -fx-text-fill: -canopy-text;
  -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.55), 14, 0.45, 0, 2);
}

/* curiosità */
.plant-curiosity {
  -fx-fill: -canopy-muted;
  -fx-font-size: 12px;
  -fx-font-style: italic;
}

/* card per descrizione/cura */
.detail-section {
  -fx-background-color: -canopy-card-soft;
  -fx-background-radius: 16;
  -fx-padding: 12 14;
  -fx-border-color: -canopy-border-subtle;
  -fx-border-radius: 16;
}

/* titolo sezione (Descrizione/Cura) */
.section-title-herb {
  -fx-font-size: 11px;
  -fx-font-weight: 800;
  -fx-text-fill: -canopy-muted;
  -fx-letter-spacing: 1.4px;
}

/* testo dentro le card */
.section-body {
  -fx-fill: -canopy-text;
  -fx-font-size: 13px;
  -fx-line-spacing: 3px;
}

/* stile bottone light/dark mode */
.theme-toggle-button {
  -fx-font-size: 14px;
  -fx-font-weight: 800;
}

/* ---------- FONT SWITCHER ---------- */
/* classi applicate da FontManager */

.root.font-atkinson {
  -fx-font-family: "AtkinsonHyperlegible";
}

.root.font-comicneue {
  -fx-font-family: "Comic Neue";
}

.root.font-robotomono {
  -fx-font-family: "Roboto Mono";
}

/* ---------- OVERRIDE SELEZIONI PER TEMA ---------- */
/* qui rendiamo le selezioni più simili all'hover, per entrambi i temi */

/* LIGHT MODE – selezioni più soft, simili all'hover */
.root.theme-light .toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 15%));
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 900;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 1.3;
}

.root.theme-light .list-cell:selected,
.root.theme-light .list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 10%));
  -fx-text-fill: -canopy-text;
}

.root.theme-light .chip:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 12%));
  -fx-text-fill: -canopy-text;
  -fx-border-color: transparent;
}

/* DARK MODE – selezioni più leggere, non nerissime, ma sempre deep forest */
.root.theme-dark .toggle-button:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 8%));
  -fx-text-fill: -canopy-text;
  -fx-font-weight: 900;
  -fx-border-color: -canopy-border-strong;
  -fx-border-width: 1.3;
}

.root.theme-dark .list-cell:selected,
.root.theme-dark .list-cell:filled:selected:hover {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 5%));
  -fx-text-fill: -canopy-text;
}

.root.theme-dark .chip:selected {
  -fx-background-color:
      linear-gradient(to right,
        -canopy-accent-soft,
        derive(-canopy-accent-soft, 10%));
  -fx-text-fill: -canopy-text;
  -fx-border-color: transparent;
}

/* ---------- SELEZIONE PIANTE CON GLOW SOFT (simile nav, ma senza sfocare il contenuto) ---------- */

.sidebar-right .list-view:focused .list-cell:filled:selected,
.sidebar-right .list-view .list-cell:filled:selected:hover,
.sidebar-right .list-cell:selected {
  -fx-effect: none; /* niente blur su contenuti */

  /* bordo principale (più chiaro, “glow core”) */
  -fx-border-color: -canopy-focus;
  -fx-border-width: 1.2;
  -fx-border-radius: 14;

  /* secondo “alone” simulato tramite background sheath leggero */
  -fx-background-radius: 14;
  -fx-background-color:
      radial-gradient(radius 140%,
          -canopy-focus-soft,
          transparent 70%),
      linear-gradient(to right,
          -canopy-accent-soft,
          derive(-canopy-accent-soft, 8%));
}

/* ================================
   COMBOBOX POPUP (menu a tendina)
   ================================ */

/* Contenitore popup: sfondo solido */
.combo-box-popup > .list-view {
    -fx-background-color: -canopy-surface-2;
    -fx-control-inner-background: -canopy-surface-2;
    -fx-background-insets: 0;
    -fx-padding: 4;
    -fx-effect: dropshadow(gaussian, -canopy-focus-soft, 16, 0.35, 0, 2);
    -fx-background-radius: 8;
}

/* Celle del menu */
.combo-box-popup .list-cell {
    -fx-background-color: transparent;
    -fx-text-fill: -canopy-text;
    -fx-padding: 8 10;
    -fx-background-radius: 6;
}

/* Hover nel popup */
.combo-box-popup .list-cell:hover {
    -fx-background-color: -canopy-accent-soft;
}

/* Selezione nel popup */
.combo-box-popup .list-cell:selected,
.combo-box-popup .list-cell:filled:selected:hover {
    -fx-background-color:
        linear-gradient(to right,
            -canopy-accent-soft,
            derive(-canopy-accent-soft, 10%));
    -fx-text-fill: -canopy-text;
}
